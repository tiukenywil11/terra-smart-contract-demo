"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const command_1 = require("@oclif/command");
const child_process_1 = require("child_process");
const cli_ux_1 = require("cli-ux");
class CodeNew extends command_1.Command {
    async run() {
        const { args, flags } = this.parse(CodeNew);
        process.chdir(flags.path);
        cli_ux_1.cli.action.start("generating contract");
        child_process_1.execSync(`cargo generate --git https://github.com/CosmWasm/cw-template.git --branch ${flags.version} --name ${args.name}`);
        cli_ux_1.cli.action.stop();
    }
}
exports.default = CodeNew;
CodeNew.description = "Generate new contract.";
CodeNew.flags = {
    path: command_1.flags.string({
        description: "path to keep the contracts",
        default: "./contracts",
    }),
    version: command_1.flags.string({
        default: "0.16",
    }),
};
CodeNew.args = [{ name: "name" }];
