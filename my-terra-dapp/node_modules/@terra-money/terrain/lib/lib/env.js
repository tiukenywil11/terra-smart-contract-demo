"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getEnv = void 0;
const terra_js_1 = require("@terra-money/terra.js");
const config_1 = require("../config");
const LCDClientExtra_1 = require("./LCDClientExtra");
const R = require("ramda");
exports.getEnv = (configPath, keysPath, refsPath, network) => {
    const connections = config_1.loadConnections(configPath);
    const config = config_1.loadConfig(configPath);
    const keys = config_1.loadKeys(keysPath);
    const refs = config_1.loadRefs(refsPath)[network];
    const lcd = new LCDClientExtra_1.LCDClientExtra(connections(network), refs);
    const userDefinedWallets = R.map((k) => new terra_js_1.Wallet(lcd, k), keys);
    return {
        config: (contract) => config(network, contract),
        refs,
        wallets: Object.assign(Object.assign({}, new terra_js_1.LocalTerra().wallets), userDefinedWallets),
        client: lcd,
    };
};
